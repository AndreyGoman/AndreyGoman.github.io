{"version":3,"sources":["icons/wolf.jsx","components/WolfButton/index.jsx","panels/Home.js","App.js","sw.js","index.js"],"names":["xmlns","version","x","y","viewBox","width","height","fill","d","WolfButton","render","increment","props","className","onClick","React","Component","Home","componentDidUpdate","prevProps","initialScore","score","parseInt","scoreCount","innerHTML","connect","send","key","value","id","fetchedUser","before","src","photo_200","description","city","title","first_name","last_name","ref","node","defaultProps","App","useState","activePanel","setActivePanel","undefined","setUser","setScore","size","popout","setPopout","useEffect","subscribe","detail","type","data","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","keys","find","item","console","log","go","e","currentTarget","dataset","to","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","catch","error","isLocalhost","Boolean","window","location","hostname","match","URL","process","origin","addEventListener","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","ReactDOM","getElementById"],"mappings":"0tBAEe,aACb,OACE,yBACEA,MAAM,6BACNC,QAAQ,MACRC,EAAE,MACFC,EAAE,MACFC,QAAQ,cACRC,MAAM,OACNC,OAAO,QAEP,0BACEC,KAAK,OACLC,EAAE,26CCTWC,G,kNACnBC,OAAS,WAAO,IACNC,EAAc,EAAKC,MAAnBD,UACR,OACE,yBAAKE,UAAU,aAAaC,QAASH,GACnC,kBAAC,EAAD,Q,6BALgCI,IAAMC,YCMzBC,E,YACnB,WAAYL,GAAQ,IAAD,8BACjB,4CAAMA,KAIRM,mBAAqB,SAAAC,GACfA,EAAUC,eAAiB,EAAKR,MAAMQ,eACxC,EAAKC,MAAQC,SAAS,EAAKV,MAAMQ,eAAiB,IAPnC,EAWnBT,UAAY,WACV,EAAKU,QACL,EAAKE,WAAWC,UAAY,EAAKH,MACjCI,IAAQC,KAAK,qBAAsB,CACjCC,IAAK,QACLC,MAAM,GAAD,OAAK,EAAKP,UAhBA,EAoBnBX,OAAS,WAAO,IAAD,EACoB,EAAKE,MAA9BiB,EADK,EACLA,GADK,IACDC,mBADC,MACa,GADb,EAEb,OACE,kBAAC,IAAD,CAAOD,GAAIA,GACT,kBAAC,IAAD,mBACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEE,OAAQ,kBAAC,IAAD,CAAQC,IAAKF,EAAYG,YACjCC,YACEJ,EAAYK,MAAQL,EAAYK,KAAKC,MACjCN,EAAYK,KAAKC,MACjB,IAGLN,EAAYO,WAAZ,UACMP,EAAYO,WADlB,YACgCP,EAAYQ,WACzC,wDAGR,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAY3B,UAAW,EAAKA,cAGhC,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAASyB,MAAM,gDACb,0BACEG,IAAK,SAAAC,GACCA,IAAM,EAAKjB,WAAaiB,KAG7B,EAAKnB,YAlDlB,EAAKA,MAAQC,SAASV,EAAMQ,eAAiB,EAF5B,E,2BADaL,IAAMC,WA+DxCC,EAAKwB,aAAe,CAClBrB,aAAc,GCpEhB,IA+CesB,EA/CH,WAAO,IAAD,EACsBC,mBAAS,QAD/B,mBACTC,EADS,KACIC,EADJ,OAEeF,wBAASG,GAFxB,mBAEThB,EAFS,KAEIiB,EAFJ,OAGUJ,wBAASG,GAHnB,mBAGTzB,EAHS,KAGF2B,EAHE,OAIYL,mBAAS,kBAAC,IAAD,CAAeM,KAAK,WAJzC,mBAITC,EAJS,KAIDC,EAJC,KAMhBC,qBAAU,WACR3B,IAAQ4B,WAAU,YAAiC,IAAD,IAA7BC,OAAUC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,KACnC,OAAQD,GACN,IAAK,uBACH,IAAME,EAAkBC,SAASC,gBAAgB,UACjDF,EAAgB7B,MAAQ4B,EAAKI,OAASJ,EAAKI,OAAS,eACpDF,SAASG,KAAKC,WAAWC,aAAaN,GACtC,MAEF,IAAK,4BAEHV,EADaS,GAEb,MAEF,IAAK,2BACH,IAAMpC,EAAeoC,EAAKQ,KAAKC,MAAK,SAAAC,GAAI,MAAiB,UAAbA,EAAKvC,OACjDqB,EAAS5B,EAAaQ,OACtBuB,EAAU,MACV,MAGF,QACEgB,QAAQC,IAAIb,EAAMC,OAIxB/B,IAAQC,KAAK,uBACbD,IAAQC,KAAK,qBAAsB,CAAEsC,KAAM,CAAC,aAC3C,IAMH,OACE,kBAAC,IAAD,CAAMpB,YAAaA,EAAaM,OAAQA,GACtC,kBAAC,EAAD,CAAMrB,GAAG,OAAOC,YAAaA,EAAaV,aAAcC,EAAOgD,GANxD,SAAAC,GACTzB,EAAeyB,EAAEC,cAAcC,QAAQC,SCnC3C,SAASC,EAAgBC,GACxBC,UAAUC,cACRC,SAASH,GACTI,MAAK,SAACC,GACNA,EAAaC,cAAgB,WAC5B,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACD,cAA3BF,EAAiBG,QAChBT,UAAUC,cAAcS,WAK3BnB,QAAQC,IAAI,6CAKZD,QAAQC,IAAI,4CAMhBmB,OAAM,SAACC,GACPrB,QAAQqB,MAAM,4CAA6CA,MA6B9D,IAAMC,EAAcC,QAAqC,cAA7BC,OAAOC,SAASC,UAEd,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MAAM,2D,OC3DhCrE,IAAQC,KAAK,gBD6DE,WACd,GAA6C,kBAAmBkD,UAAW,CAG1E,GADkB,IAAImB,IAAIC,GAAwBL,OAAOC,UAC3CK,SAAWN,OAAOC,SAASK,OAIxC,OAGDN,OAAOO,iBAAiB,QAAQ,WAC/B,IAAMvB,EAAK,UAAMqB,GAAN,sBAEPP,IA7CP,SAAiCd,GAEhCwB,MAAMxB,GACJI,MAAK,SAACqB,GAGe,MAApBA,EAASC,SACuD,IAAhED,EAASE,QAAQC,IAAI,gBAAgBC,QAAQ,cAG7C5B,UAAUC,cAAc4B,MAAM1B,MAAK,SAACC,GACnCA,EAAa0B,aAAa3B,MAAK,WAC9BY,OAAOC,SAASe,eAKlBjC,EAAgBC,MAGjBY,OAAM,WACNpB,QAAQC,IAAI,oEA0BXwC,CAAwBjC,GAIxBC,UAAUC,cAAc4B,MAAM1B,MAAK,WAClCZ,QAAQC,IACP,gHAMFM,EAAgBC,OCnFpBkC,GAEAC,IAASpG,OAAO,kBAAC,EAAD,MAASgD,SAASqD,eAAe,W","file":"static/js/main.d87fc08e.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      x=\"0px\"\n      y=\"0px\"\n      viewBox=\"0 0 100 100\"\n      width=\"100%\"\n      height=\"100%\"\n    >\n      <path\n        fill=\"#fff\"\n        d=\"M53.733,66.089c0,2.062-1.67,3.734-3.733,3.734c-2.062,0-3.732-1.671-3.732-3.734c0-2.062,1.671-3.732,3.732-3.732  C52.062,62.357,53.733,64.027,53.733,66.089z M40.314,45.61c-1.537,0-2.781,1.245-2.781,2.781c0,1.537,1.245,2.781,2.781,2.781  c1.538,0,2.78-1.244,2.78-2.781C43.094,46.854,41.852,45.61,40.314,45.61z M59.686,45.61c-1.537,0-2.78,1.245-2.78,2.781  c0,1.537,1.243,2.781,2.78,2.781s2.782-1.244,2.782-2.781C62.468,46.854,61.223,45.61,59.686,45.61z M72.918,59.017  c0.146-0.195,0.256-0.415,0.323-0.649l2.369-8.242c0.147-0.512,0.083-1.062-0.176-1.527l-4.25-7.609  c2.997-15.311,0.4-16.723-0.586-17.26c-0.451-0.245-0.964-0.37-1.525-0.37c-3.172,0-9.07,4.891-12.144,7.648l-6.483-1.479  c-0.293-0.067-0.597-0.067-0.89,0l-6.483,1.479c-3.073-2.758-8.971-7.648-12.144-7.648c-0.561,0-1.074,0.125-1.525,0.37  c-0.987,0.537-3.583,1.949-0.586,17.26l-4.25,7.609c-0.26,0.465-0.323,1.015-0.176,1.527l2.369,8.242  c0.067,0.234,0.177,0.454,0.323,0.649C28.437,60.821,40.587,76.64,50,76.64S71.563,60.821,72.918,59.017z M28.465,49.822  l4.203-7.525c0.232-0.417,0.309-0.902,0.214-1.37c-1.138-5.653-1.697-11.344-1.366-13.412c1.803,0.711,5.951,3.764,9.628,7.146  c0.485,0.446,1.16,0.625,1.799,0.478L50,33.53l7.056,1.61c0.64,0.145,1.313-0.032,1.799-0.478c3.68-3.384,7.83-6.438,9.628-7.147  c0.333,2.067-0.227,7.759-1.365,13.413c-0.094,0.468-0.018,0.954,0.214,1.37l4.203,7.525L69.5,56.905  C65.948,61.553,56.164,72.64,50,72.64S34.052,61.553,30.5,56.905L28.465,49.822z\"\n      />\n    </svg>\n  );\n};\n","import React from \"react\";\n\nimport WolfIcon from \"../../icons/wolf\";\n\nimport \"./styles.css\";\n\nexport default class WolfButton extends React.Component {\n  render = () => {\n    const { increment } = this.props;\n    return (\n      <div className=\"vc__button\" onClick={increment}>\n        <WolfIcon />\n      </div>\n    );\n  };\n}\n","import React from \"react\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport InfoRow from \"@vkontakte/vkui/dist/components/InfoRow/InfoRow\";\nimport Group from \"@vkontakte/vkui/dist/components/Group/Group\";\nimport Cell from \"@vkontakte/vkui/dist/components/Cell/Cell\";\nimport Div from \"@vkontakte/vkui/dist/components/Div/Div\";\nimport Avatar from \"@vkontakte/vkui/dist/components/Avatar/Avatar\";\nimport connect from \"@vkontakte/vk-connect\";\n\nimport WolfButton from \"../components/WolfButton\";\n\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.score = parseInt(props.initialScore) || 0;\n  }\n\n  componentDidUpdate = prevProps => {\n    if (prevProps.initialScore !== this.props.initialScore) {\n      this.score = parseInt(this.props.initialScore) || 0;\n    }\n  };\n\n  increment = () => {\n    this.score++;\n    this.scoreCount.innerHTML = this.score;\n    connect.send(\"VKWebAppStorageSet\", {\n      key: \"score\",\n      value: `${this.score}`\n    });\n  };\n\n  render = () => {\n    const { id, fetchedUser = {} } = this.props;\n    return (\n      <Panel id={id}>\n        <PanelHeader>VOLKOCLICK</PanelHeader>\n        <Group>\n          <Cell\n            before={<Avatar src={fetchedUser.photo_200} />}\n            description={\n              fetchedUser.city && fetchedUser.city.title\n                ? fetchedUser.city.title\n                : \"\"\n            }\n          >\n            {fetchedUser.first_name\n              ? `${fetchedUser.first_name} ${fetchedUser.last_name}`\n              : \"Загрузка...\"}\n          </Cell>\n        </Group>\n        <Group>\n          <Div>\n            <WolfButton increment={this.increment} />\n          </Div>\n        </Group>\n        <Group>\n          <Div>\n            <InfoRow title=\"Ваш счет:\">\n              <span\n                ref={node => {\n                  if (node) this.scoreCount = node;\n                }}\n              >\n                {this.score}\n              </span>\n            </InfoRow>\n          </Div>\n        </Group>\n      </Panel>\n    );\n  };\n}\n\nHome.defaultProps = {\n  initialScore: 0\n};\n","import React, { useState, useEffect } from \"react\";\nimport connect from \"@vkontakte/vk-connect\";\nimport View from \"@vkontakte/vkui/dist/components/View/View\";\nimport ScreenSpinner from \"@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\nimport Home from \"./panels/Home\";\n\nconst App = () => {\n  const [activePanel, setActivePanel] = useState(\"home\");\n  const [fetchedUser, setUser] = useState(undefined);\n  const [score, setScore] = useState(undefined);\n  const [popout, setPopout] = useState(<ScreenSpinner size=\"large\" />);\n\n  useEffect(() => {\n    connect.subscribe(({ detail: { type, data } }) => {\n      switch (type) {\n        case \"VKWebAppUpdateConfig\": {\n          const schemeAttribute = document.createAttribute(\"scheme\");\n          schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n          document.body.attributes.setNamedItem(schemeAttribute);\n          break;\n        }\n        case \"VKWebAppGetUserInfoResult\": {\n          const user = data;\n          setUser(user);\n          break;\n        }\n        case \"VKWebAppStorageGetResult\": {\n          const initialScore = data.keys.find(item => item.key === \"score\");\n          setScore(initialScore.value);\n          setPopout(null);\n          break;\n        }\n\n        default: {\n          console.log(type, data);\n        }\n      }\n    });\n    connect.send(\"VKWebAppGetUserInfo\");\n    connect.send(\"VKWebAppStorageGet\", { keys: [\"score\"] });\n  }, []);\n\n  const go = e => {\n    setActivePanel(e.currentTarget.dataset.to);\n  };\n\n  return (\n    <View activePanel={activePanel} popout={popout}>\n      <Home id=\"home\" fetchedUser={fetchedUser} initialScore={score} go={go} />\n    </View>\n  );\n};\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nfunction registerValidSW(swUrl) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the old content will have been purged and\n\t\t\t\t\t\t\t// the fresh content will have been added to the cache.\n\t\t\t\t\t\t\t// It's the perfect time to display a \"New content is\n\t\t\t\t\t\t\t// available; please refresh.\" message in your web app.\n\t\t\t\t\t\t\tconsole.log('New content is available; please refresh.');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\tresponse.headers.get('content-type').indexOf('javascript') === -1\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\n\t\t});\n}\n\nconst isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n\t// [::1] is the IPv6 localhost address.\n\twindow.location.hostname === '[::1]' ||\n\t// 127.0.0.1/8 is considered localhost for IPv4.\n\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\n\nexport default function register() {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Lets check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t'worker. To learn more, visit https://goo.gl/SC7cgQ'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not local host. Just register service worker\n\t\t\t\tregisterValidSW(swUrl);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport connect from \"@vkontakte/vk-connect\";\nimport App from \"./App\";\nimport registerServiceWorker from \"./sw\";\nimport \"./global.css\";\n// Init VK  Mini App\nconnect.send(\"VKWebAppInit\");\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\nregisterServiceWorker();\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}